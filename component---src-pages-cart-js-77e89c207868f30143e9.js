"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[873],{9981:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var c=t(7294),r=t(6978),l=t(991),n=t(4160);var s=()=>{const{0:e,1:a}=(0,c.useState)([]),{state:t,dispatch:r}=(0,l.O)();console.log("CartPage state",t),(0,c.useEffect)((()=>{t.cart&&t.cart.length>0?a(t.cart):a([])}),[t.cart]);const{0:s,1:m}=(0,c.useState)(""),{0:p,1:i}=(0,c.useState)("free"),o=(e,a)=>{a<1||t.cart.forEach((t=>{t.id===e&&r({type:"UPDATE_CART_ITEM",payload:{id:e,quantity:a}})}))},u=e.reduce(((e,a)=>e+a.price*a.quantity),0),g=u+("flat"===p?10:0);return c.createElement("div",{className:"cart-page-wrapper"},c.createElement("div",{className:"container"},c.createElement("div",{className:"cart-page-header"},c.createElement("h1",{className:"cart-page-title"},"Cart"),c.createElement("div",{className:"cart-page-breadcrumb"},c.createElement("span",{className:"cart-page-breadcrumb-home"},"Home"),c.createElement("span",{className:"cart-page-breadcrumb-separator"},"›"),c.createElement("span",{className:"cart-page-breadcrumb-current"},"Cart"))),c.createElement("div",{className:"cart-page-content"},c.createElement("div",{className:"cart-page-main"},c.createElement("div",{className:"cart-page-section"},c.createElement("h2",{className:"cart-page-section-title"},"Product List"),c.createElement("div",{className:"cart-page-items"},e.length>0&&c.createElement(c.Fragment,null,e.map((e=>c.createElement("div",{key:e.id,className:"cart-page-item"},c.createElement("div",{className:"cart-page-item-image"},c.createElement("img",{src:e.images[0],alt:e.name})),c.createElement("div",{className:"cart-page-item-details"},c.createElement("div",{className:"cart-page-item-brand"},"Nightly"),c.createElement("div",{className:"cart-page-item-name"},e.name)),c.createElement("div",{className:"cart-page-item-price"},"$",e.price.toFixed(2)),c.createElement("div",{className:"cart-page-item-quantity"},c.createElement("button",{className:"cart-page-quantity-btn",onClick:()=>o(e.id,e.quantity-1)},"-"),c.createElement("span",{className:"cart-page-quantity-value"},e.quantity),c.createElement("button",{className:"cart-page-quantity-btn",onClick:()=>o(e.id,e.quantity+1)},"+")),c.createElement("button",{className:"cart-page-remove-btn",onClick:()=>{return a=e.id,void r({type:"REMOVE_FROM_CART",payload:a});var a}},"Remove"))))),e.length>=0&&c.createElement(c.Fragment,null,c.createElement("span",{className:"items-not-avaliable"},"No Products"))),c.createElement("div",{className:"cart-page-coupon"},c.createElement("div",{className:"cart-page-coupon-section"},c.createElement("label",{className:"cart-page-coupon-label"},"Coupon Code:"),c.createElement("div",{className:"cart-page-coupon-input-group"},c.createElement("input",{type:"text",className:"cart-page-coupon-input",placeholder:"Apply coupon here",value:s,onChange:e=>m(e.target.value)}),c.createElement("button",{className:"cart-page-coupon-btn",onClick:()=>{s.trim()&&(alert(`Coupon "${s}" applied!`),m(""))}},"Apply")))))),c.createElement("div",{className:"cart-page-sidebar"},c.createElement("div",{className:"cart-page-summary"},c.createElement("div",{className:"cart-page-summary-row"},c.createElement("span",{className:"cart-page-summary-label"},"Subtotal"),c.createElement("span",{className:"cart-page-summary-value"},"$",u.toFixed(2))),c.createElement("div",{className:"cart-page-shipping"},c.createElement("div",{className:"cart-page-summary-label"},"Shipping"),c.createElement("div",{className:"cart-page-shipping-options"},c.createElement("label",{className:"cart-page-shipping-option"},c.createElement("input",{type:"radio",className:"radio-custom",name:"shipping",value:"flat",checked:"flat"===p,onChange:e=>i(e.target.value)}),c.createElement("span",{className:"cart-page-shipping-text"},"Flat rate")),c.createElement("label",{className:"cart-page-shipping-option"},c.createElement("input",{type:"radio",className:"radio-custom",name:"shipping",value:"free",checked:"free"===p,onChange:e=>i(e.target.value)}),c.createElement("span",{className:"cart-page-shipping-text"},"Free shipping")))),c.createElement("div",{className:"cart-page-total"},c.createElement("div",{className:"cart-page-summary-row"},c.createElement("span",{className:"cart-page-summary-label"},"Total"),c.createElement("span",{className:"cart-page-summary-value"},"$",g.toFixed(2)))),c.createElement("button",{className:"cart-page-checkout-btn",onClick:()=>(()=>{const a={subtotal:e.reduce(((e,a)=>e+a.price*a.quantity),0),shippingCost:"flat"===p?10:0,total:e.reduce(((e,a)=>e+a.price*a.quantity),0)+("flat"===p?10:0)};r({type:"CHECKOUT_CART_DETAILS",payload:{shippingAddress:{city:"",state:"",zip:""},paymentMethod:"",orderSummary:a}}),(0,n.c4)("/checkout")})()},"Proceed To Checkout"),c.createElement("button",{className:"cart-page-continue-shopping"},"← Continue Shopping"))))))},m=t(8069);function p(){return c.createElement(l.R,null,c.createElement(r.Z,null,c.createElement(s,null),c.createElement(m.Ix,null)))}}}]);
//# sourceMappingURL=component---src-pages-cart-js-77e89c207868f30143e9.js.map