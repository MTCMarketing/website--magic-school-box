{"version":3,"file":"component---src-pages-cart-js-cdb1a5ffdc206ee335fb.js","mappings":"qOA4OA,MApOiB,KACf,MAAM,EAACA,EAAU,EAACC,IAAgBC,EAAAA,EAAAA,UAAS,KAErC,MAACC,EAAK,SAACC,IAAYC,EAAAA,EAAAA,KAEzBC,QAAQC,IAAI,iBAAkBJ,IAE9BK,EAAAA,EAAAA,YAAU,KACJL,EAAMM,MAAQN,EAAMM,KAAKC,OAAS,EACpCT,EAAaE,EAAMM,MAEnBR,EAAa,GACf,GACC,CAACE,EAAMM,OAGV,MAAM,EAACE,EAAW,EAACC,IAAiBV,EAAAA,EAAAA,UAAS,KACvC,EAACW,EAAe,EAACC,IAAqBZ,EAAAA,EAAAA,UAAS,QAE/Ca,EAAiB,CAACC,EAAIC,KACtBA,EAAc,GAClBd,EAAMM,KAAKS,SAAQC,IACbA,EAAKH,KAAOA,GACdZ,EAAS,CAAEgB,KAAM,mBAAoBC,QAAS,CAAEL,KAAIM,SAAUL,IAChE,GAED,EAyCGM,EAAWvB,EAAUwB,QAAO,CAACC,EAAKN,IAASM,EAAON,EAAKO,MAAQP,EAAKG,UAAW,GAE/EK,EAAQJ,GAD0B,SAAnBV,EAA4B,GAAK,GAGtD,OACE,uBAAKe,UAAU,qBACd,uBAAKA,UAAU,aACb,uBAAKA,UAAU,oBACd,sBAAIA,UAAU,mBAAkB,QAChC,uBAAKA,UAAU,wBACb,wBAAMA,UAAU,6BAA4B,QAC5C,wBAAMA,UAAU,kCAAiC,KACjD,wBAAMA,UAAU,gCAA+B,UAInD,uBAAKA,UAAU,qBACb,uBAAKA,UAAU,kBACb,uBAAKA,UAAU,qBACb,sBAAIA,UAAU,2BAA0B,gBAExC,uBAAKA,UAAU,mBAEb5B,EAAUU,OAAS,GACjB,gCACEV,EAAU6B,KAAIV,GAChB,uBAAKW,IAAKX,EAAKH,GAAIY,UAAU,kBAC3B,uBAAKA,UAAU,wBACb,uBAAKG,IAAKZ,EAAKa,OAAO,GAAIC,IAAKd,EAAKe,QAEtC,uBAAKN,UAAU,0BACb,uBAAKA,UAAU,wBAAuB,WACtC,uBAAKA,UAAU,uBAAuBT,EAAKe,OAE7C,uBAAKN,UAAU,wBAAuB,IAClCT,EAAKO,MAAMS,QAAQ,IAEvB,uBAAKP,UAAU,2BACb,0BACEA,UAAU,yBACVQ,QAAS,IAAMrB,EAAeI,EAAKH,GAAIG,EAAKG,SAAW,IACxD,KAGD,wBAAMM,UAAU,4BAA4BT,EAAKG,UACjD,0BACEM,UAAU,yBACVQ,QAAS,IAAMrB,EAAeI,EAAKH,GAAIG,EAAKG,SAAW,IACxD,MAIH,0BACEM,UAAU,uBACVQ,QAAS,KAAMC,OA1FbrB,EA0FwBG,EAAKH,QAxF3CZ,EAAS,CAAEgB,KAAM,mBAAoBC,QAASL,IAFhCA,KA0FiC,GACpC,cAULhB,EAAUU,QAAS,GACjB,gCACE,wBAAMkB,UAAU,uBAAsB,iBAS5C,uBAAKA,UAAU,oBACb,uBAAKA,UAAU,4BACb,yBAAOA,UAAU,0BAAyB,gBAC1C,uBAAKA,UAAU,gCACb,yBACER,KAAK,OACLQ,UAAU,yBACVU,YAAY,oBACZC,MAAO5B,EACP6B,SAAWC,GAAM7B,EAAc6B,EAAEC,OAAOH,SAE1C,0BACEX,UAAU,uBACVQ,QAtHE,KACdzB,EAAWgC,SACbC,MAAO,WAAUjC,eACjBC,EAAc,IAChB,GAmHe,cASX,uBAAKgB,UAAU,qBACb,uBAAKA,UAAU,qBACb,uBAAKA,UAAU,yBACb,wBAAMA,UAAU,2BAA0B,YAC1C,wBAAMA,UAAU,2BAA0B,IAAEL,EAASY,QAAQ,KAG/D,uBAAKP,UAAU,sBACb,uBAAKA,UAAU,2BAA0B,YACzC,uBAAKA,UAAU,8BACb,yBAAOA,UAAU,6BACf,yBACER,KAAK,QACLQ,UAAU,eACVM,KAAK,WACLK,MAAM,OACNM,QAA4B,SAAnBhC,EACT2B,SAAWC,GAAM3B,EAAkB2B,EAAEC,OAAOH,SAE9C,wBAAMX,UAAU,2BAA0B,cAE5C,yBAAOA,UAAU,6BACf,yBACER,KAAK,QACLQ,UAAU,eACVM,KAAK,WACLK,MAAM,OACNM,QAA4B,SAAnBhC,EACT2B,SAAWC,GAAM3B,EAAkB2B,EAAEC,OAAOH,SAE9C,wBAAMX,UAAU,2BAA0B,oBAKhD,uBAAKA,UAAU,8BACb,wBAAMA,UAAU,yBAAwB,eAAY,8BAAQ,OAC5D,0BAAQA,UAAU,4BAA2B,mBAG/C,uBAAKA,UAAU,mBACb,uBAAKA,UAAU,yBACb,wBAAMA,UAAU,2BAA0B,SAC1C,wBAAMA,UAAU,2BAA0B,IAAED,EAAMQ,QAAQ,MAI9D,0BAAQP,UAAU,yBAA0BQ,QAAS,IAzKvC,MACxB,MAMMU,EAAe,CACnBvB,SAAUvB,EAAUwB,QAAO,CAACC,EAAKN,IAASM,EAAON,EAAKO,MAAQP,EAAKG,UAAW,GAC9EyB,aAAiC,SAAnBlC,EAA4B,GAAK,EAC/Cc,MAAO3B,EAAUwB,QAAO,CAACC,EAAKN,IAASM,EAAON,EAAKO,MAAQP,EAAKG,UAAW,IAAyB,SAAnBT,EAA4B,GAAK,IAEpHT,EAAS,CACPgB,KAAM,wBACNC,QAAS,CACP2B,gBAdoB,CACtBC,KAAM,GACN9C,MAAO,GACP+C,IAAK,IAYHC,cAVkB,GAWlBL,mBAIJM,EAAAA,EAAAA,IAAS,YAAY,EAoJgDC,IAAqB,uBAIhF,0BAAQzB,UAAU,+BAA8B,2BAOlD,E,UClOK,SAAS0B,IACtB,OACE,gBAAC,IAAc,KAEb,gBAACC,EAAA,EAAU,KACT,gBAAC,EAAQ,MACQ,gBAAC,KAAc,OAKxC,C","sources":["webpack://gatsby-starter-hello-world/./src/components/CartPage/CartPage.jsx","webpack://gatsby-starter-hello-world/./src/pages/cart.js"],"sourcesContent":["\n\n\nimport React, { useEffect, useState } from 'react'\nimport \"../../Styles/pages/cartPage.css\"\nimport { useGlobal } from '../context/GlobalContext'\nimport { navigate } from 'gatsby';\n\nconst CartPage = () => {\n  const [cartItems, setCartItems] = useState([])\n\n  const {state,dispatch} = useGlobal();\n\n  console.log(\"CartPage state\", state)\n// set cartItems to the cart from global state\n  useEffect(() => {\n    if (state.cart && state.cart.length > 0) {\n      setCartItems(state.cart);\n    } else {\n      setCartItems([]);\n    }\n  }, [state.cart]);\n\n  \n  const [couponCode, setCouponCode] = useState('')\n  const [shippingOption, setShippingOption] = useState('free')\n\n  const updateQuantity = (id, newQuantity) => {\n    if (newQuantity < 1) return\n    state.cart.forEach(item => {\n      if (item.id === id) {\n        dispatch({ type: \"UPDATE_CART_ITEM\", payload: { id, quantity: newQuantity } });\n      }\n    }\n    )\n  \n    \n  }\n\n  const removeItem = (id) => {\n    // setCartItems(items => items.filter(item => item.id !== id))\n        dispatch({ type: \"REMOVE_FROM_CART\", payload: id });\n\n\n  }\n\n  const applyCoupon = () => {\n    if (couponCode.trim()) {\n      alert(`Coupon \"${couponCode}\" applied!`)\n      setCouponCode('')\n    }\n  }\nconst proceedToCheckOut = () => {\n  const shippingAddress = {\n    city: '',\n    state: '',\n    zip: '',\n  }\n  const paymentMethod = ''\n  const orderSummary = {\n    subtotal: cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0),\n    shippingCost: shippingOption === 'flat' ? 10 : 0,\n    total: cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0) + (shippingOption === 'flat' ? 10 : 0),\n  }\n  dispatch({\n    type: \"CHECKOUT_CART_DETAILS\",\n    payload: {\n      shippingAddress,\n      paymentMethod,\n      orderSummary,\n    },\n\n  });\n  navigate('/checkout')\n}\n  const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0)\n  const shippingCost = shippingOption === 'flat' ? 10 : 0\n  const total = subtotal + shippingCost\n\n  return (\n    <div className=\"cart-page-wrapper\">\n     <div className='container'>\n       <div className=\"cart-page-header\">\n        <h1 className=\"cart-page-title\">Cart</h1>\n        <div className=\"cart-page-breadcrumb\">\n          <span className=\"cart-page-breadcrumb-home\">Home</span>\n          <span className=\"cart-page-breadcrumb-separator\">›</span>\n          <span className=\"cart-page-breadcrumb-current\">Cart</span>\n        </div>\n    </div>\n\n      <div className=\"cart-page-content\">\n        <div className=\"cart-page-main\">\n          <div className=\"cart-page-section\">\n            <h2 className=\"cart-page-section-title\">Product List</h2>\n            \n            <div className=\"cart-page-items\">\n             {\n              cartItems.length > 0 && (\n                <>\n                 {cartItems.map(item => (\n                <div key={item.id} className=\"cart-page-item\">\n                  <div className=\"cart-page-item-image\">\n                    <img src={item.images[0]} alt={item.name} />\n                  </div>\n                  <div className=\"cart-page-item-details\">\n                    <div className=\"cart-page-item-brand\">Nightly</div>\n                    <div className=\"cart-page-item-name\">{item.name}</div>\n                  </div>\n                  <div className=\"cart-page-item-price\">\n                    ${item.price.toFixed(2)}\n                  </div>\n                  <div className=\"cart-page-item-quantity\">\n                    <button \n                      className=\"cart-page-quantity-btn\"\n                      onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                    >\n                      -\n                    </button>\n                    <span className=\"cart-page-quantity-value\">{item.quantity}</span>\n                    <button \n                      className=\"cart-page-quantity-btn\"\n                      onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                    >\n                      +\n                    </button>\n                  </div>\n                  <button \n                    className=\"cart-page-remove-btn\"\n                    onClick={() => removeItem(item.id)}\n                  >\n                    Remove\n                  </button>\n                </div>\n              ))}\n                </>\n              )\n             \n             }\n             {\n              cartItems.length >=0 && (\n                <>\n                  <span className='items-not-avaliable'>\n                No Products\n                    \n                    </span>                  \n                </>\n              )\n             }\n            </div>\n\n            <div className=\"cart-page-coupon\">\n              <div className=\"cart-page-coupon-section\">\n                <label className=\"cart-page-coupon-label\">Coupon Code:</label>\n                <div className=\"cart-page-coupon-input-group\">\n                  <input\n                    type=\"text\"\n                    className=\"cart-page-coupon-input\"\n                    placeholder=\"Apply coupon here\"\n                    value={couponCode}\n                    onChange={(e) => setCouponCode(e.target.value)}\n                  />\n                  <button \n                    className=\"cart-page-coupon-btn\"\n                    onClick={applyCoupon}\n                  >\n                    Apply\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"cart-page-sidebar\">\n          <div className=\"cart-page-summary\">\n            <div className=\"cart-page-summary-row\">\n              <span className=\"cart-page-summary-label\">Subtotal</span>\n              <span className=\"cart-page-summary-value\">${subtotal.toFixed(2)}</span>\n            </div>\n\n            <div className=\"cart-page-shipping\">\n              <div className=\"cart-page-summary-label\">Shipping</div>\n              <div className=\"cart-page-shipping-options\">\n                <label className=\"cart-page-shipping-option\">\n                  <input\n                    type=\"radio\"\n                    className='radio-custom'\n                    name=\"shipping\"\n                    value=\"flat\"\n                    checked={shippingOption === 'flat'}\n                    onChange={(e) => setShippingOption(e.target.value)}\n                  />\n                  <span className=\"cart-page-shipping-text\">Flat rate</span>\n                </label>\n                <label className=\"cart-page-shipping-option\">\n                  <input\n                    type=\"radio\"\n                    className='radio-custom'\n                    name=\"shipping\"\n                    value=\"free\"\n                    checked={shippingOption === 'free'}\n                    onChange={(e) => setShippingOption(e.target.value)}\n                  />\n                  <span className=\"cart-page-shipping-text\">Free shipping</span>\n                </label>\n              </div>\n            </div>\n\n            <div className=\"cart-page-shipping-address\">\n              <span className=\"cart-page-shipping-to\">Shipping to <strong>NY</strong></span>\n              <button className=\"cart-page-change-address\">Change address</button>\n            </div>\n\n            <div className=\"cart-page-total\">\n              <div className=\"cart-page-summary-row\">\n                <span className=\"cart-page-summary-label\">Total</span>\n                <span className=\"cart-page-summary-value\">${total.toFixed(2)}</span>\n              </div>\n            </div>\n\n            <button className=\"cart-page-checkout-btn\"  onClick={() => proceedToCheckOut()}>\n              Proceed To Checkout\n            </button>\n\n            <button className=\"cart-page-continue-shopping\">\n              ← Continue Shopping\n            </button>\n          </div>\n        </div>\n      </div>\n     </div>\n    </div>\n  )\n}\n\nexport default CartPage","import * as React from \"react\";\n\nimport MainLayout from \"../layouts/MainLayout\";\nimport { GlobalProvider } from \"../components/context/GlobalContext\";\nimport CartPage from \"../components/CartPage/CartPage\";\nimport { ToastContainer } from \"react-toastify\";\nexport default function SingleProduct() {\n  return (\n    <GlobalProvider>\n      \n      <MainLayout>\n        <CartPage />\n                         <ToastContainer />\n        \n      </MainLayout>\n    </GlobalProvider>\n  );\n}\n"],"names":["cartItems","setCartItems","useState","state","dispatch","useGlobal","console","log","useEffect","cart","length","couponCode","setCouponCode","shippingOption","setShippingOption","updateQuantity","id","newQuantity","forEach","item","type","payload","quantity","subtotal","reduce","sum","price","total","className","map","key","src","images","alt","name","toFixed","onClick","removeItem","placeholder","value","onChange","e","target","trim","alert","checked","orderSummary","shippingCost","shippingAddress","city","zip","paymentMethod","navigate","proceedToCheckOut","SingleProduct","MainLayout"],"sourceRoot":""}